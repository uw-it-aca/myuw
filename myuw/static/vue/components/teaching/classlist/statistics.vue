<template>
  <div>
    <h3>
      Statistics for {{ currAbbr }} {{ courseNum }} {{ sectionId }}
    </h3>
    <p v-if="majors && majors.length">
      {{ majors[0].percent_students }}% of your students
      are {{ titleCaseWord(majors[0].major) }} majors.
    </p>
    <a
      v-out="'Course Dashboard'"
      :href="getUrl"
      :title="getLabel"
    >
      View more statistics for
      {{ currAbbr }} {{ courseNum }} {{ sectionId }}
    </a>
  </div>
</template>
<script>
export default {
  props: {
    currAbbr: {
      type: String,
      required: true,
    },
    courseNum: {
      type: String,
      required: true,
    },
    sectionId: {
      type: String,
      required: true,
    },
    quarter: {
      type: String,
      required: true,
    },
    year: {
      type: Number,
      required: true,
    },
    majors: {
      type: Array,
      default: undefined,
    },
  },
  computed: {
    getUrl() {
      return 'https://coda.uw.edu/#' + this.year + '-' +
        this.quarter + '-' + this.currAbbr + '-' + this.courseNum +
        '-' + this.sectionId;
    },
    getLabel() {
      return 'Course Dashboard for ' + this.year + ' ' +
        this.quarter + ' ' + this.currAbbr + ' ' + this.courseNum +
        ' ' + this.sectionId;
    },
  },
};
</script>
