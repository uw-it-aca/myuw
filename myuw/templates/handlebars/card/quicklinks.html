{% load templatetag_handlebars %}
{% tplhandlebars "quicklinks" %}
<div class="card clearfix"  data-name="QuickLinks" data-type="card">
    <h3>Quick Links</h3>
    <div class="myuw-qlinks">
        <div class="myuw-qlinks-active">
            <ul class="unstyled-list myuw-qlinks-active-list">
                {{#each links.default_links}}
                  <li class="list clearfix">
                    <div class="myuw-qlinks-item pull-left">
                        <a href="{{ url }}" title="{{label}}" data-notrack='' target="_blank"><span>{{label }}</span></a>
                    </div>
                    <div class="pull-right link-controls">
                        <a href="#" id="rm-def-link-{{@index}}" class="control-link" data-linkid="{{url}}" data-linktype="hide" title="Remove {{label}} link from Quick Links list"><i class="fa fa-times" aria-hidden="true"></i></a>
                    </div>
                  </li>
                {{/each}}
                {{#each links.custom_links}}
                <li class="list clearfix">
                    <div class="myuw-qlinks-item pull-left">
                        <a id="custom-link-{{ id }}" href="{{ url }}" title="{{label}}" target="_blank" data-notrack=''><span>{{label }}</span></a>
                    </div>
                    <div class="pull-right link-controls">
                        <a id="custom-link-edit-control-{{id}}" href="#" class="control-link edit-link" data-linkid="{{ id }}" data-linktype="edit" title="Edit {{label}} link" aria-controls="custom-link-edit" aria-haspopup="true" aria-expanded="false"><i class="fa fa-pencil" aria-hidden="true"></i></a>&nbsp;
                        <a href="#" class="control-link remove-link" data-linkid="{{ id }}" data-linktype="remove" title="Remove {{label}} link from Quick Links list"><i class="fa fa-times" aria-hidden="true"></i></a>
                    </div>
                </li>
                {{/each}}

            </ul>
        </div>
        <hr>
        {{#if links.recent_links}}
        <div class="myuw-qlinks-recent">
            <h4>Recently Visited</h4>
            <ul class="unstyled-list myuw-qlinks-recent-list">
                {{#each links.recent_links}}
                  <li class="list clearfix">
                    <div class="myuw-qlinks-item pull-left">
                        <a href="{{ url }}" title="{{label}}" target="_blank"><span>{{label }}</span></a>
                    </div>
                    <div class="pull-right link-controls">
                        {{#if added}}<i class="fa fa-check control-link" aria-hidden="true" title="{{label}} link saved to Quick Links"></i>{{else}}<a href="#" class="control-link" data-linkid="{{ id }}" data-linktype="recent" title="Save {{label}} link to your Quick Links list"><i class="fa fa-plus" aria-hidden="true"></i></a>
                        {{/if}}
                     </div>
                  </li>
                {{/each}}
            </ul>
            <span class="recent-message visible-md-block visible-lg-block">Save your recently visited links for future access.</span>
        </div>
        <hr>
        {{/if}}
        <div id="custom-link-edit" class="myuw-popover" style="display: none;" role="form" aria-labelledby="custom-link-edit-form-label">
            <div class="form">
                <fieldset>
                    <h4 id="custom-link-edit-form-label">Edit Quick Link</h4>
                    <input class="form-control" type="hidden" id="custom-link-edit-id">
                    <label for="custom-link-edit-url">URL</label> <input class="form-control" type="url" id="custom-link-edit-url"> <span class="small text-danger" id="edit-url-required" style="display: none;">* Required URL</span><br />
                    <label for="custom-link-edit-label">Link name (optional)</label> <input class="form-control" type="text" id="custom-link-edit-label">
                    <div class="text-right" style="padding: 8px 0;"><a href='#' id="close-custom-link-edit">Cancel</a> <button class="btn btn-primary btn-qlinks" type="button" id="quicklinks-save-edits">Save</button></div>
                </fieldset>
            </div>
        </div>
        <div>
            <span>Not seeing the links you're looking for? {{#if links.popular_links}}Select from <a data-toggle="collapse" href="#popular_qlinks" aria-expanded="false" aria-controls="popular_qlinks">popular links,</a> or {{/if}}
                <a href="#custom_qlinks"{{#unless disable_actions}} data-toggle="collapse" aria-expanded="false" aria-haspopup="true" aria-controls="custom_qlinks"{{/unless}}>add your own</a>.</span>
        </div>

        <div class="collapse myuw-qlinks-popular" id="popular_qlinks">
            <h4>Popular Links</h4>
            <ul class="unstyled-list myuw-qlinks-popular-list">
                {{#each links.popular_links}}
                <li class="list clearfix"><div class="myuw-qlinks-item pull-left"><a href="{{ url }}" title="{{label}}" target="_blank"><span>{{ label }}</span></a></div><div class="pull-right link-controls">{{#if added}}<i class="fa fa-check control-link" aria-hidden="true" title="{{label}} link saved to Quick Links"></i>{{else}}<a href="#" class="control-link" data-linkid="{{ id }}" data-linktype="popular" title="Save {{label}} link to your Quick Links list"><i class="fa fa-plus" aria-hidden="true"></i></a>{{/if}}</div></li>
                {{/each}}
            </ul>
        </div>
        <div class="myuw-qlinks-custom collapse" id="custom_qlinks" role="form" aria-labelledby="custom_qlinks_label">
            <div class="form-group marginless">
                <h4 id="custom_qlinks_label">Add your link to Quick Links</h4>
                <div class="col-10">
                    <label for="myuw-custom-qlink" class="sr-only">Web Address</label>
                    <fieldset>
                        <label for="myuw-custom-qlink">URL</label><input class="form-control" type="url" placeholder="https://www.washington.edu" id="myuw-custom-qlink" value=""> <br />
                        <label for="myuw-custom-qlink-label">Link name (optional)</label><input class="form-control" type="text" placeholder="UW Homepage" id="myuw-custom-qlink-label" value=""> <br />
                        <div class="clearfix myuw-qlinks-custom-btn">
                            <div class="pull-right">
                                <div class="text-right" style="padding: 8px 0;"><a data-toggle="collapse" href="#custom_qlinks">Cancel</a> <button class="btn btn-primary btn-qlinks" id="quicklinks-save-new">Add</button></div>
                            </div>
                            <div class="pull-left" style="display: none;" id="error_saving" class="help-block"><span class="small text-danger">Error saving</span></div>
                            <div class="pull-left" style="display: none;" id="quicklink_saving" class="help-block"><span class="small">Saving...</span></div>
                        </div>
                    </fieldset>
                </div>
            </div>
        </div>
    </div>
</div>

{% endtplhandlebars %}
