{% load templatetag_handlebars %}
{% tplhandlebars "quicklinks" %}
<div class="card clearfix"  data-name="QuickLinks" data-type="card">
    <h3>Quick Links</h3>
    <div class="myuw-qlinks">
        <div class="myuw-qlinks-active">
            <ul class="unstyled-list myuw-qlinks-active-list">
                {{#each links.default_links}}
                <li class="list clearfix"><div class="myuw-qlinks-item pull-left"><a href="{{ url }}"><span>{{label }}</span></a></div><div class="pull-right link-controls"><a href="#" class="control-link" data-linkid="{{ url }}" data-linktype="hide" title="Remove {{label}} link from Quick Links list"><i class="fa fa-times" aria-hidden="true"></i></a></div></li>
                {{/each}}
                {{#each links.custom_links}}
                <li class="list clearfix">
                    <div class="myuw-qlinks-item pull-left">
                        <a id="custom-link-{{ id }}" href="{{ url }}"><span>{{label }}</span></a>
                    </div>
                    <div class="pull-right link-controls">
                        <a href="#" class="control-link edit-link" data-linkid="{{ id }}" data-linktype="edit" title="Edit {{label}} link"><i class="fa fa-pencil" aria-hidden="true"></i></a>&nbsp;<a href="#" class="control-link remove-link" data-linkid="{{ id }}" data-linktype="remove" title="Remove {{label}} link from Quick Links list"><i class="fa fa-times" aria-hidden="true"></i></a>
                    </div>
                </li>
                {{/each}}

            </ul>
        </div>
        <hr>
        {{#if links.recent_links}}
        <div class="myuw-qlinks-recent">
            <h4>Recently Visited</h4>
            <ul class="unstyled-list myuw-qlinks-recent-list">
                {{#each links.recent_links}}
                <li class="list clearfix"><div class="myuw-qlinks-item pull-left"><a href="{{ url }}"><span>{{label }}</span></a></div><div class="pull-right link-controls">{{#if added }}in your list{{else}}<a href="#" class="control-link" data-linkid="{{ id }}" data-linktype="recent" title="Save {{label}} link to your Quick Links list"><i class="fa fa-plus" aria-hidden="true"></i></a>{{/if}}</div></li>
                {{/each}}
            </ul>
            <span class="recent-message">Save your recently visited links to your Quick Links list for future access.</span>
        </div>
        <hr>
        {{/if}}
        <div id="custom-link-edit" style="display: none; position: absolute; border: 1px solid #ccc; background: #fff; width:95%;padding:10px;">
            <div class="form-group">
                <input class="form-control" type="hidden" id="custom-link-edit-id"> 
                URL: <input class="form-control" type="url" id="custom-link-edit-url"> 
                Label: <input class="form-control" type="text" id="custom-link-edit-label"> <span id="edit-label-required" style="display: none;">* Required</span>
                <div class="text-right" style="padding: 10px 0;"><a href='#' id="close-custom-link-edit">cancel</a> <button class="btn btn-primary" type="button" id="quicklinks-save-edits">Save</button></div>
            </div>
        </div>
        <div>
            <span>Not seeing the links you're looking for? {{#if links.popular_links }}Select from <a data-toggle="collapse" href="#popular_qlinks" aria-expanded="false" aria-controls="popular_qlinks">popular links,</a> or {{/if}}<a data-toggle="collapse" href="#custom_qlinks" aria-expanded="false" aria-controls="custom_qlinks">add your own.</a></span>
        </div>

        <div class="collapse myuw-qlinks-popular" id="popular_qlinks">
            <h4>Popular Links</h4>
            <ul class="unstyled-list myuw-qlinks-popular-list">
                {{#each links.popular_links }}
                <li class="list clearfix"><div class="myuw-qlinks-item pull-left"><a href="{{ url }}"><span>{{ label }}</span></a></div><div class="pull-right link-controls">{{#if added }}in your list{{ else }}<a href="#" class="control-link" data-linkid="{{ id }}" data-linktype="popular" title="Save {{label}} link to your Quick Links list"><i class="fa fa-plus" aria-hidden="true"></i></a>{{ /if }}</div></li>
                {{/each}}
            </ul>
        </div>
        <div class="myuw-qlinks-custom collapse"  id="custom_qlinks">
            <div class="form-group">
                <h4>Add your link to Quick Links</h4>
                <div class="col-10">
                    <input class="form-control" type="url" placeholder="https://www.washington.edu" id="myuw-custom-qlink" value="">
                    <div class="clearfix myuw-qlinks-custom-btn">
                        <div class="pull-right">
                            <button class="btn btn-primary" id="quicklinks-save-new">Save</button>
                        </div>
                        <div class="pull-left" style="display: none;" id="error_saving" class="help-block"><span class="text-danger">Error saving</span></div>
                        <div class="pull-left" style="display: none;" id="quicklink_saving">Saving...</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

{% endtplhandlebars %}
